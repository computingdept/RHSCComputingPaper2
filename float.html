<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Floating Point Normalization Trace Table</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      padding-bottom: 50px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      border: 1px solid #000;
      padding: 8px;
      text-align: center;
    }
    th {
      background-color: #f2f2f2;
    }
    pre {
      background-color: #eee;
      padding: 10px;
      font-size: 1.1em;
      overflow-x: auto;
    }
    button {
      margin-top: 10px;
      padding: 10px;
      font-size: 1em;
      cursor: pointer;
    }
  </style>
  <script>
    function checkAnswersNorm() {
      // Expected values for each row:
      // Columns: [Step, Working, Mantissa, Exponent, Normalized Representation]
      let correctValues = [
        ["01: Read representation", "Mantissa = 00011, Exponent = 0010", "00011", "0010", ""],
        ["02: Calculate value", "3 * 2^(2) = 12", "3", "2", ""],
        ["03: Normalize value", "12 = 12 * 2^(0)", "12", "0", ""],
        ["04: Convert normalized mantissa to 5-bit", "12 in binary = 01100", "01100", "", ""],
        ["05: Convert normalized exponent to 4-bit", "0 in binary = 0000", "", "0000", ""],
        ["06: Final normalized representation", "Combine to get 01100 0000", "", "", "01100 0000"]
      ];
      
      let table = document.getElementById("traceTableNorm");
      let rows = table.rows;
      
      // Skip header row (index 0) and then check each data row.
      for (let i = 1; i < rows.length; i++) {
         let inputs = rows[i].getElementsByTagName("input");
         let correct = correctValues[i - 1];
         for (let j = 0; j < inputs.length; j++) {
            inputs[j].style.backgroundColor = 
              (inputs[j].value.trim() === correct[j]) ? "lightgreen" : "lightcoral";
         }
      }
    }
  </script>
</head>
<body>
  <h2>Floating Point Normalization Trace Table</h2>
  <p>
    The number is stored in floating point format with a 5‑bit mantissa and a 4‑bit exponent.
    The given representation is: <strong>Mantissa = 00011</strong> and <strong>Exponent = 0010</strong>.
  </p>
  <p>
    This means the value is 3 × 2^(2) = 12.
    To normalize 12, we write it as 12 × 2^(0).
    Then we convert 12 to a 5‑bit binary number (01100) and 0 to a 4‑bit binary number (0000).
    The final normalized representation is: <strong>01100 0000</strong>.
    (You get 1 mark for the normalized mantissa and 1 mark for the normalized exponent.)
  </p>
  <pre>
01: Read representation
    Mantissa = 00011, Exponent = 0010
02: Calculate value
    3 * 2^(2) = 12
03: Normalize value
    12 = 12 * 2^(0)
04: Convert normalized mantissa to 5-bit
    12 in binary = 01100
05: Convert normalized exponent to 4-bit
    0 in binary = 0000
06: Final normalized representation
    01100 0000
  </pre>
  <p>
    Fill in the trace table below.
  </p>
  <table id="traceTableNorm">
    <tr>
      <th>Step</th>
      <th>Working</th>
      <th>Mantissa</th>
      <th>Exponent</th>
      <th>Normalized Representation</th>
    </tr>
    <!-- 6 rows corresponding to steps 1 to 6 -->
    <tr>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
    </tr>
    <tr>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
    </tr>
    <tr>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
    </tr>
    <tr>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
    </tr>
    <tr>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
    </tr>
    <tr>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
    </tr>
  </table>
  <button onclick="checkAnswersNorm()">Check Answers</button>
</body>
</html>
