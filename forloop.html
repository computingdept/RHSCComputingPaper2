<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Count-Controlled Loop Trace Table Challenges</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      padding-bottom: 50px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      border: 1px solid #000;
      padding: 8px;
      text-align: center;
    }
    th {
      background-color: #f2f2f2;
    }
    pre {
      background: #eee;
      padding: 10px;
      font-size: 1.1em;
      overflow-x: auto;
    }
    button {
      margin-top: 10px;
      padding: 10px;
      font-size: 1em;
      cursor: pointer;
    }
    hr {
      margin: 40px 0;
    }
  </style>
  <script>
    // --- Shelf Assembly Challenge (Original Scenario) ---
    function checkAnswersLoop() {
      let correctValues = [
        ["01", "1", ""],
        ["02", "", "Shelf 1"],
        ["03", "2", ""],
        ["02", "", "Shelf 2"],
        ["03", "3", ""],
        ["02", "", "Shelf 3"],
        ["03", "4", ""],
        ["04", "", "Shelf assembly is complete"]
      ];
      let table = document.getElementById("traceTableLoop");
      let rows = table.rows;
      for (let i = 1; i < rows.length; i++) {
        let inputs = rows[i].getElementsByTagName("input");
        let correct = correctValues[i - 1];
        for (let j = 0; j < inputs.length; j++) {
          inputs[j].style.backgroundColor =
            (inputs[j].value.trim() === correct[j]) ? "lightgreen" : "lightcoral";
        }
      }
    }
    
    // --- Sheep Shearing Challenge (Rural Norfolk) ---
    function checkAnswersSheep() {
      let correctValues = [
        ["01", "1", ""],
        ["02", "", "Shearing sheep 1"],
        ["03", "2", ""],
        ["02", "", "Shearing sheep 2"],
        ["03", "3", ""],
        ["02", "", "Shearing sheep 3"],
        ["03", "4", ""],
        ["02", "", "Shearing sheep 4"],
        ["03", "5", ""],
        ["04", "", "All sheep are shorn"]
      ];
      let table = document.getElementById("traceTableSheep");
      let rows = table.rows;
      for (let i = 1; i < rows.length; i++) {
        let inputs = rows[i].getElementsByTagName("input");
        let correct = correctValues[i - 1];
        for (let j = 0; j < inputs.length; j++) {
          inputs[j].style.backgroundColor =
            (inputs[j].value.trim() === correct[j]) ? "lightgreen" : "lightcoral";
        }
      }
    }
    
    // --- Cow Counting Challenge (Using for i = 0 to 5 step 2) ---
    function checkAnswersCows() {
      let correctValues = [
        ["01", "0", ""],
        ["02", "", "There are 0 cows"],
        ["03", "2", ""],
        ["02", "", "There are 2 cows"],
        ["03", "4", ""],
        ["02", "", "There are 4 cows"],
        ["03", "6", ""],
        ["04", "", "Cow counting is complete"]
      ];
      let table = document.getElementById("traceTableCows");
      let rows = table.rows;
      for (let i = 1; i < rows.length; i++) {
        let inputs = rows[i].getElementsByTagName("input");
        let correct = correctValues[i - 1];
        for (let j = 0; j < inputs.length; j++) {
          inputs[j].style.backgroundColor =
            (inputs[j].value.trim() === correct[j]) ? "lightgreen" : "lightcoral";
        }
      }
    }
    
    // --- Countdown Challenge (Using for i = 3 to 1 step -1) ---
    function checkAnswersCountdown() {
      let correctValues = [
        ["01", "3", ""],
        ["02", "", "3"],
        ["03", "2", ""],
        ["02", "", "2"],
        ["03", "1", ""],
        ["02", "", "1"],
        ["03", "0", ""],
        ["04", "", "Countdown"]
      ];
      let table = document.getElementById("traceTableCountdown");
      let rows = table.rows;
      for (let i = 1; i < rows.length; i++) {
        let inputs = rows[i].getElementsByTagName("input");
        let correct = correctValues[i - 1];
        for (let j = 0; j < inputs.length; j++) {
          inputs[j].style.backgroundColor =
            (inputs[j].value.trim() === correct[j]) ? "lightgreen" : "lightcoral";
        }
      }
    }
    
    // --- Nested Loop Challenge with Separate Columns for i and j ---
    function checkAnswersNested() {
      // Code:
      // 01 for i = 1 to 2
      // 02    for j = 1 to 3
      // 03         print("i=" + i + " j=" + j)
      // 04    next j
      // 05 next i
      // 06 print("Nested loop complete")
      //
      // Trace table rows with separate columns for i and j:
      // Row 1: Line 01: Outer loop initialization → i = 1 (j not set)
      // Row 2: Line 02: Inner loop initialization → j = 1 (for i = 1)
      // Row 3: Line 03: Print → "i=1 j=1" (i = 1, j = 1)
      // Row 4: Line 04: Next j → j becomes 2 (i remains 1)
      // Row 5: Line 03: Print → "i=1 j=2" (i = 1, j = 2)
      // Row 6: Line 04: Next j → j becomes 3 (i remains 1)
      // Row 7: Line 03: Print → "i=1 j=3" (i = 1, j = 3)
      // Row 8: Line 04: Next j → j becomes 4 (inner loop ends for i = 1)
      // Row 9: Line 05: Next i → i becomes 2 (j not set)
      // Row 10: Line 02: Inner loop initialization → j = 1 (for i = 2)
      // Row 11: Line 03: Print → "i=2 j=1" (i = 2, j = 1)
      // Row 12: Line 04: Next j → j becomes 2 (i remains 2)
      // Row 13: Line 03: Print → "i=2 j=2" (i = 2, j = 2)
      // Row 14: Line 04: Next j → j becomes 3 (i remains 2)
      // Row 15: Line 03: Print → "i=2 j=3" (i = 2, j = 3)
      // Row 16: Line 04: Next j → j becomes 4 (inner loop ends for i = 2)
      // Row 17: Line 05: Next i → i becomes 3 (outer loop ends)
      // Row 18: Line 06: Print → "Nested loop complete" (i = 3)
      let correctValues = [
        ["01", "1", "", ""],
        ["02", "", "1", ""],
        ["03", "", "", "i=1 j=1"],
        ["04", "", "2", ""],
        ["03", "", "", "i=1 j=2"],
        ["04", "", "3", ""],
        ["03", "", "", "i=1 j=3"],
        ["04", "", "4", ""],
        ["05", "2", "", ""],
        ["02", "", "1", ""],
        ["03", "", "", "i=2 j=1"],
        ["04", "", "2", ""],
        ["03", "", "", "i=2 j=2"],
        ["04", "", "3", ""],
        ["03", "", "", "i=2 j=3"],
        ["04", "", "4", ""],
        ["05", "3", "", ""],
        ["06", "", "", "Nested loop complete"]
      ];
      
      let table = document.getElementById("traceTableNested");
      let rows = table.rows;
      for (let i = 1; i < rows.length; i++) {
        let inputs = rows[i].getElementsByTagName("input");
        let correct = correctValues[i - 1];
        for (let j = 0; j < inputs.length; j++) {
          inputs[j].style.backgroundColor =
            (inputs[j].value.trim() === correct[j]) ? "lightgreen" : "lightcoral";
        }
      }
    }
  </script>
</head>
<body>
  <!-- Original Challenge: Shelf Assembly -->
  <h2>Count-Controlled Loop Trace Table Challenge (Shelf Assembly)</h2>
  <pre>
01 for i = 1 to 3
02    print ("Shelf " + i)
03 next i
04 print("Shelf assembly is complete")
  </pre>
  <p>Fill in the table below. (Columns: Line Number, Value of i, Output)</p>
  <table id="traceTableLoop">
    <tr><th>Line Number</th><th>Value of i</th><th>Output</th></tr>
    <!-- 8 rows -->
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
  </table>
  <button onclick="checkAnswersLoop()">Check Answers</button>

  <hr>

  <!-- Sheep Shearing Challenge (Rural Norfolk) -->
  <h2>Count-Controlled Loop Trace Table Challenge (Sheep Shearing)</h2>
  <pre>
01 for i = 1 to 4
02    print ("Shearing sheep " + i)
03 next i
04 print("All sheep are shorn")
  </pre>
  <p>Fill in the table below. (Columns: Line Number, Value of i, Output)</p>
  <table id="traceTableSheep">
    <tr><th>Line Number</th><th>Value of i</th><th>Output</th></tr>
    <!-- 10 rows -->
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
  </table>
  <button onclick="checkAnswersSheep()">Check Answers</button>

  <hr>

  <!-- Cow Counting Challenge (Using for i = 0 to 5 step 2) -->
  <h2>Count-Controlled Loop Trace Table Challenge (Cow Counting)</h2>
  <pre>
01 for i = 0 to 5 step 2
02    print("There are " + i + " cows")
03 next i
04 print("Cow counting is complete")
  </pre>
  <p>Fill in the table below. (Columns: Line Number, Value of i, Output)</p>
  <table id="traceTableCows">
    <tr><th>Line Number</th><th>Value of i</th><th>Output</th></tr>
    <!-- 8 rows -->
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
  </table>
  <button onclick="checkAnswersCows()">Check Answers</button>

  <hr>

  <!-- Countdown Challenge (Using for i = 3 to 1 step -1) -->
  <h2>Count-Controlled Loop Trace Table Challenge (Countdown)</h2>
  <pre>
01 for i = 3 to 1 step -1 
02    print(i)
03 next i 
04 print("Countdown")
  </pre>
  <p>Fill in the table below. (Columns: Line Number, Value of i, Output)</p>
  <table id="traceTableCountdown">
    <tr><th>Line Number</th><th>Value of i</th><th>Output</th></tr>
    <!-- 8 rows -->
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
  </table>
  <button onclick="checkAnswersCountdown()">Check Answers</button>

  <hr>

  <!-- Nested Loop Challenge with Separate Columns for i and j -->
  <h2>Count-Controlled Loop Trace Table Challenge (Nested Loop)</h2>
  <pre>
01 for i = 1 to 2
02    for j = 1 to 3
03         print("i=" + i + " j=" + j)
04    next j
05 next i
06 print("Nested loop complete")
  </pre>
  <p>
    Fill in the table below. (Columns: Line Number, Value of i, Value of j, Output)
  </p>
  <table id="traceTableNested">
    <tr>
      <th>Line Number</th>
      <th>Value of i</th>
      <th>Value of j</th>
      <th>Output</th>
    </tr>
    <!-- 18 rows -->
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
  </table>
  <button onclick="checkAnswersNested()">Check Answers</button>
</body>
</html>
