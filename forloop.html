<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Count-Controlled Loop Trace Table Challenges</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      padding-bottom: 50px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      border: 1px solid #000;
      padding: 8px;
      text-align: center;
    }
    th {
      background-color: #f2f2f2;
    }
    pre {
      background: #eee;
      padding: 10px;
      font-size: 1.1em;
      overflow-x: auto;
    }
    button {
      margin-top: 10px;
      padding: 10px;
      font-size: 1em;
      cursor: pointer;
    }
    hr {
      margin: 40px 0;
    }
  </style>
  <script>
    // --- Shelf Assembly Challenge (Original Scenario) ---
    function checkAnswersLoop() {
      // Code:
      // 01 for i = 1 to 3
      // 02    print ("Shelf " + i)
      // 03 next i
      // 04 print("Shelf assembly is complete")
      //
      // Trace table rows:
      // Row 1: Initialization (line 01) with i = 1.
      // Row 2: Print at line 02: "Shelf 1"
      // Row 3: Increment at line 03 with i = 2.
      // Row 4: Print at line 02: "Shelf 2"
      // Row 5: Increment at line 03 with i = 3.
      // Row 6: Print at line 02: "Shelf 3"
      // Row 7: Increment at line 03 with i = 4.
      // Row 8: Final print at line 04: "Shelf assembly is complete"
      let correctValues = [
        ["01", "1", ""],
        ["02", "", "Shelf 1"],
        ["03", "2", ""],
        ["02", "", "Shelf 2"],
        ["03", "3", ""],
        ["02", "", "Shelf 3"],
        ["03", "4", ""],
        ["04", "", "Shelf assembly is complete"]
      ];
      
      let table = document.getElementById("traceTableLoop");
      let rows = table.rows;
      
      // Skip header row (index 0)
      for (let i = 1; i < rows.length; i++) {
        let inputs = rows[i].getElementsByTagName("input");
        let correct = correctValues[i - 1];
        for (let j = 0; j < inputs.length; j++) {
          if (inputs[j].value.trim() === correct[j]) {
            inputs[j].style.backgroundColor = "lightgreen";
          } else {
            inputs[j].style.backgroundColor = "lightcoral";
          }
        }
      }
    }
    
    // --- Sheep Shearing Challenge (Rural Norfolk) ---
    function checkAnswersSheep() {
      // Code:
      // 01 for i = 1 to 4
      // 02    print ("Shearing sheep " + i)
      // 03 next i
      // 04 print("All sheep are shorn")
      //
      // Trace table rows:
      // Row 1: Initialization (line 01) with i = 1.
      // Row 2: Print at line 02: "Shearing sheep 1"
      // Row 3: Increment at line 03 with i = 2.
      // Row 4: Print at line 02: "Shearing sheep 2"
      // Row 5: Increment at line 03 with i = 3.
      // Row 6: Print at line 02: "Shearing sheep 3"
      // Row 7: Increment at line 03 with i = 4.
      // Row 8: Print at line 02: "Shearing sheep 4"
      // Row 9: Increment at line 03 with i = 5.
      // Row 10: Final print at line 04: "All sheep are shorn"
      let correctValues = [
        ["01", "1", ""],
        ["02", "", "Shearing sheep 1"],
        ["03", "2", ""],
        ["02", "", "Shearing sheep 2"],
        ["03", "3", ""],
        ["02", "", "Shearing sheep 3"],
        ["03", "4", ""],
        ["02", "", "Shearing sheep 4"],
        ["03", "5", ""],
        ["04", "", "All sheep are shorn"]
      ];
      
      let table = document.getElementById("traceTableSheep");
      let rows = table.rows;
      
      // Skip header row (index 0)
      for (let i = 1; i < rows.length; i++) {
        let inputs = rows[i].getElementsByTagName("input");
        let correct = correctValues[i - 1];
        for (let j = 0; j < inputs.length; j++) {
          if (inputs[j].value.trim() === correct[j]) {
            inputs[j].style.backgroundColor = "lightgreen";
          } else {
            inputs[j].style.backgroundColor = "lightcoral";
          }
        }
      }
    }
    
    // --- Cow Counting Challenge (Using for i = 0 to 5 step 2) ---
    function checkAnswersCows() {
      // Code:
      // 01 for i = 0 to 5 step 2
      // 02    print("There are " + i + " cows")
      // 03 next i
      // 04 print("Cow counting is complete")
      //
      // Trace table rows:
      // Row 1: Initialization at line 01, i = 0.
      // Row 2: Print at line 02: "There are 0 cows".
      // Row 3: Increment at line 03 with i = 2.
      // Row 4: Print at line 02: "There are 2 cows".
      // Row 5: Increment at line 03 with i = 4.
      // Row 6: Print at line 02: "There are 4 cows".
      // Row 7: Increment at line 03 with i = 6 (loop exits since 6 > 5).
      // Row 8: Final print at line 04: "Cow counting is complete"
      let correctValues = [
        ["01", "0", ""],
        ["02", "", "There are 0 cows"],
        ["03", "2", ""],
        ["02", "", "There are 2 cows"],
        ["03", "4", ""],
        ["02", "", "There are 4 cows"],
        ["03", "6", ""],
        ["04", "", "Cow counting is complete"]
      ];
      
      let table = document.getElementById("traceTableCows");
      let rows = table.rows;
      
      // Skip header row (index 0)
      for (let i = 1; i < rows.length; i++) {
        let inputs = rows[i].getElementsByTagName("input");
        let correct = correctValues[i - 1];
        for (let j = 0; j < inputs.length; j++) {
          if (inputs[j].value.trim() === correct[j]) {
            inputs[j].style.backgroundColor = "lightgreen";
          } else {
            inputs[j].style.backgroundColor = "lightcoral";
          }
        }
      }
    }
    
    // --- Countdown Challenge (Using for i = 3 to 1 step -1) ---
    function checkAnswersCountdown() {
      // Code:
      // 01 for i = 3 to 1 step -1 
      // 02    print(i)
      // 03 next i 
      // 04 print ("Countdown")
      //
      // Trace table rows:
      // Row 1: Initialization at line 01, i = 3.
      // Row 2: Print at line 02: "3"
      // Row 3: Increment at line 03, i becomes 2.
      // Row 4: Print at line 02: "2"
      // Row 5: Increment at line 03, i becomes 1.
      // Row 6: Print at line 02: "1"
      // Row 7: Increment at line 03, i becomes 0 (loop exits since 0 < 1).
      // Row 8: Final print at line 04: "Countdown"
      let correctValues = [
        ["01", "3", ""],
        ["02", "", "3"],
        ["03", "2", ""],
        ["02", "", "2"],
        ["03", "1", ""],
        ["02", "", "1"],
        ["03", "0", ""],
        ["04", "", "Countdown"]
      ];
      
      let table = document.getElementById("traceTableCountdown");
      let rows = table.rows;
      
      // Skip header row (index 0)
      for (let i = 1; i < rows.length; i++) {
        let inputs = rows[i].getElementsByTagName("input");
        let correct = correctValues[i - 1];
        for (let j = 0; j < inputs.length; j++) {
          if (inputs[j].value.trim() === correct[j]) {
            inputs[j].style.backgroundColor = "lightgreen";
          } else {
            inputs[j].style.backgroundColor = "lightcoral";
          }
        }
      }
    }
  </script>
</head>
<body>
  <!-- Original Challenge: Shelf Assembly -->
  <h2>Count-Controlled Loop Trace Table Challenge (Shelf Assembly)</h2>
  <p>
    Imagine you have 3 shelves to build. This count-controlled iteration counts from 1 to 3 and prints each shelf number.
    In the trace table below, the first column shows the code line numbers.
  </p>
  <pre>
01 for i = 1 to 3
02    print ("Shelf " + i)
03 next i
04 print("Shelf assembly is complete")
  </pre>
  <p>
    Fill in the table below with the correct values for each step.
    The first column (Line Number) should show 01, 02, 03, or 04,
    the second column (Value of i) shows the current value,
    and the third column (Output) shows what is printed.
  </p>
  <table id="traceTableLoop">
    <tr>
      <th>Line Number</th>
      <th>Value of i</th>
      <th>Output</th>
    </tr>
    <!-- 8 data rows -->
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
  </table>
  <button onclick="checkAnswersLoop()">Check Answers</button>

  <hr>

  <!-- Sheep Shearing Challenge (Rural Norfolk) -->
  <h2>Count-Controlled Loop Trace Table Challenge (Sheep Shearing)</h2>
  <p>
    Imagine you are on a Norfolk farm and have 4 sheep to shear. This count-controlled iteration counts from 1 to 4 and prints each sheep's number.
    In the trace table below, the first column shows the code line numbers.
  </p>
  <pre>
01 for i = 1 to 4
02    print ("Shearing sheep " + i)
03 next i
04 print("All sheep are shorn")
  </pre>
  <p>
    Fill in the table below with the correct values for each step.
    The first column (Line Number) should show 01, 02, 03, or 04,
    the second column (Value of i) shows the current value,
    and the third column (Output) shows what is printed.
  </p>
  <table id="traceTableSheep">
    <tr>
      <th>Line Number</th>
      <th>Value of i</th>
      <th>Output</th>
    </tr>
    <!-- 10 data rows -->
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
  </table>
  <button onclick="checkAnswersSheep()">Check Answers</button>

  <hr>

  <!-- Cow Counting Challenge (Using for i = 0 to 5 step 2) -->
  <h2>Count-Controlled Loop Trace Table Challenge (Cow Counting)</h2>
  <p>
    Imagine you are on a farm counting cows. This loop uses a step of 2, starting at 0.
  </p>
  <pre>
01 for i = 0 to 5 step 2
02    print("There are " + i + " cows")
03 next i
04 print("Cow counting is complete")
  </pre>
  <p>
    Fill in the table below with the correct values.
    The first column shows the code line,
    the second column shows the current value of i,
    and the third column shows what is printed.
  </p>
  <table id="traceTableCows">
    <tr>
      <th>Line Number</th>
      <th>Value of i</th>
      <th>Output</th>
    </tr>
    <!-- 8 data rows -->
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
  </table>
  <button onclick="checkAnswersCows()">Check Answers</button>

  <hr>

  <!-- New Challenge: Countdown (Using for i = 3 to 1 step -1) -->
  <h2>Count-Controlled Loop Trace Table Challenge (Countdown)</h2>
  <p>
    In this challenge, the loop counts down from 3 to 1 and then prints "Countdown".
  </p>
  <pre>
01 for i = 3 to 1 step -1 
02    print(i)
03 next i 
04 print ("Countdown")
  </pre>
  <p>
    Fill in the table below with the correct values for each step.
    The first column shows the code line,
    the second column shows the current value of i,
    and the third column shows what is printed.
  </p>
  <table id="traceTableCountdown">
    <tr>
      <th>Line Number</th>
      <th>Value of i</th>
      <th>Output</th>
    </tr>
    <!-- 8 data rows -->
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
  </table>
  <button onclick="checkAnswersCountdown()">Check Answers</button>
</body>
</html>
