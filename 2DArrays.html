<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>2D Array Trace Table Tasks</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      background: #f9f9f9;
      color: #333;
    }
    h1, h2 {
      margin: 20px;
    }
    section {
      background: #fff;
      margin: 20px;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.1);
    }
    pre {
      background: #eee;
      padding: 10px;
      overflow-x: auto;
      border-radius: 6px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 6px;
      text-align: center;
    }
    th {
      background: #f2f2f2;
    }
    input[type="text"] {
      width: 100%;
      box-sizing: border-box;
      padding: 4px;
    }
    button {
      margin-top: 10px;
      padding: 8px 16px;
      background: #007bff;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1em;
    }
    button:hover {
      background: #005bb5;
    }
  </style>
  <script>
    /**********************************************
     * Q1: Chessboard Setup
     **********************************************/
    function checkAnswersQ1() {
      // Suppose we only expect a few lines.
      // We'll keep it short for demonstration.
      // Each subarray: [Line, row, col, arrayValue, Output]
      let correctValues = [
        ["01", "", "", "Initialize array", ""],
        ["02", "1", "0", "Pawn", ""],
        ["03", "6", "7", "Pawn", ""],
        ["04", "0", "0", "Rook", ""],
        ["05", "0", "7", "Rook", ""],
        ["06", "7", "0", "Rook", ""],
        ["07", "7", "7", "Rook", ""],
        // We won't fully check the nested loop output
        // but let's show a row for line 10
        ["10", "", "", "", "All cells printed"]
      ];
      let table = document.getElementById("traceTableQ1");
      validateTable(table, correctValues);
    }

    /**********************************************
     * Q2: Student Database Table
     **********************************************/
    function checkAnswersQ2() {
      // Each row: [Line, rowIndex, ???, ???]
      // For simplicity, we'll just store a few lines
      let correctValues = [
        ["01", "", "", ""],
        ["03", "0", "0", "Alice"],
        ["04", "0", "1", "Year10"],
        ["05", "0", "2", "Green"],
        ["06", "0", "3", "85"],
        ["08", "1", "0", "Bob"],
        ["14", "", "", "Alice,Year10,Green,85 ... etc."]
      ];
      let table = document.getElementById("traceTableQ2");
      validateTable(table, correctValues);
    }

    /**********************************************
     * Q3: Summing a 2D Array of Marks
     **********************************************/
    function checkAnswersQ3() {
      // [Line, r, c, arrayValue, sum/Output]
      let correctValues = [
        ["02", "0", "0", "10", ""],
        ["02", "0", "1", "12", ""],
        ["02", "0", "2", "9",  ""],
        ["03", "1", "0", "8",  ""],
        // ...
        ["06", "", "", "", ""],
        ["09", "", "", "", "Accumulate sum"],
        ["11", "0", "", "", "Student 0 total = 31"]
      ];
      let table = document.getElementById("traceTableQ3");
      validateTable(table, correctValues);
    }

    /**********************************************
     * Q4: Searching a 2D Library Catalog
     **********************************************/
    function checkAnswersQ4() {
      // [Line, i, libraryValue, found, Output]
      let correctValues = [
        ["01", "", "Initialize 5x3", "", ""],
        ["02", "", "", "false", ""],
        ["04", "0", "", "", ""],
        ["05", "", "Check library[0,0]", "", ""],
        ["07", "", "", "true", "1984 by Orwell (1949)"],
        ["11", "", "", "", "Title not in catalog?"]
      ];
      let table = document.getElementById("traceTableQ4");
      validateTable(table, correctValues);
    }

    /**********************************************
     * Q5: Updating a Stock Inventory
     **********************************************/
    function checkAnswersQ5() {
      // [Line, i, stockVal, oldQty, newQty, Output]
      let correctValues = [
        ["02", "0", "Burger,50,2.99", "", "", ""],
        ["03", "1", "Fries,100,1.50", "", "", ""],
        ["04", "2", "Soda,80,1.20", "", "", ""],
        ["05", "", "", "", "", ""],
        ["06", "", "", "", "", ""],
        ["09", "", "", "50", "", ""],
        ["11", "", "", "", "45", ""],
        ["12", "", "", "", "", "Updated Burger to 45"]
      ];
      let table = document.getElementById("traceTableQ5");
      validateTable(table, correctValues);
    }

    /**********************************************
     * HELPER: Validate user input vs correctValues
     **********************************************/
    function validateTable(table, correctValues) {
      // For each row (minus the header), compare inputs
      let rows = table.getElementsByTagName("tr");
      // i=1 because row[0] is the table header
      for (let i = 1; i < rows.length; i++) {
        let inputs = rows[i].getElementsByTagName("input");
        let correct = correctValues[i - 1] || []; 
        // compare each cell
        for (let j = 0; j < inputs.length; j++) {
          let userVal = inputs[j].value.trim();
          let corVal = correct[j] || "";
          if (userVal === corVal) {
            inputs[j].style.backgroundColor = "lightgreen";
          } else {
            inputs[j].style.backgroundColor = "lightcoral";
          }
        }
      }
    }
  </script>
</head>
<body>
  <h1>2D Array Interactive Trace Tables</h1>
  <p>Below are five tasks that demonstrate how to trace a 2D array's line-by-line execution. 
     Fill in the tables, then click "Check Answers" to see if you match the expected values.</p>

  <!-- Q1: Chessboard Setup -->
  <section id="q1">
    <h2>Q1: Chessboard Setup</h2>
    <pre>
01 array gameboard[8,8]
02 gameboard[1,0] = "Pawn"
03 gameboard[6,7] = "Pawn"
04 gameboard[0,0] = "Rook"
05 gameboard[0,7] = "Rook"
06 gameboard[7,0] = "Rook"
07 gameboard[7,7] = "Rook"
08 for row = 0 to 7
09     for col = 0 to 7
10         print(gameboard[row,col])
11     next col
12 next row
    </pre>
    <table id="traceTableQ1">
      <tr>
        <th>Line</th>
        <th>row</th>
        <th>col</th>
        <th>gameboard[row,col]</th>
        <th>Output</th>
      </tr>
      <!-- Provide enough rows for user input -->
      <tr>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
      </tr>
      <tr>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
      </tr>
      <tr>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
      </tr>
      <tr>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
      </tr>
      <tr>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
      </tr>
      <tr>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
      </tr>
      <tr>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
      </tr>
      <tr>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
      </tr>
    </table>
    <button onclick="checkAnswersQ1()">Check Answers</button>
  </section>

  <!-- Q2: Student Database Table -->
  <section id="q2">
    <h2>Q2: Student Database Table</h2>
    <pre>
01 array students[5,4]
02 // Assign row 0
03 students[0,0] = "Alice"
04 students[0,1] = "Year10"
05 students[0,2] = "Green"
06 students[0,3] = "85"
07 // Assign row 1
08 students[1,0] = "Bob"
09 students[1,1] = "Year10"
10 students[1,2] = "Blue"
11 students[1,3] = "90"
12 // ...
13 for r = 0 to 4
14     print( students[r,0] + ", " +
             students[r,1] + ", " +
             students[r,2] + ", " +
             students[r,3] )
15 next r
    </pre>
    <table id="traceTableQ2">
      <tr>
        <th>Line</th>
        <th>row</th>
        <th>col</th>
        <th>Value/Output</th>
      </tr>
      <!-- Provide enough rows for user input -->
      <tr>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
      </tr>
      <tr>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
      </tr>
      <tr>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
      </tr>
      <tr>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
      </tr>
      <tr>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
      </tr>
      <tr>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
        <td><input type="text"></td>
      </tr>
    </table>
    <button onclick="checkAnswersQ2()">Check Answers</button>
  </section>

  <!-- Q3: Summing a 2D Array of Marks -->
  <section id="q3">
    <h2>Q3: Summing a 2D Array of Marks</h2>
    <pre>
01 array marks[4,3]
02 marks[0,0] = 10; marks[0,1] = 12; marks[0,2] = 9
03 marks[1,0] = 8;  marks[1,1] = 15; marks[1,2] = 11
04 marks[2,0] = 14; marks[2,1] = 7;  marks[2,2] = 10
05 marks[3,0] = 6;  marks[3,1] = 9;  marks[3,2] = 12
06 for r = 0 to 3
07     studentTotal = 0
08     for c = 0 to 2
09         studentTotal = studentTotal + marks[r,c]
10     next c
11     print("Student " + r + " total = " + studentTotal)
12 next r
    </pre>
    <table id="traceTableQ3">
      <tr>
        <th>Line</th>
        <th>r</th>
        <th>c</th>
        <th>marks[r,c]</th>
        <th>studentTotal/Output</th>
      </tr>
      <!-- Provide enough rows for user input -->
      <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
      <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
      <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
      <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
      <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
      <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    </table>
    <button onclick="checkAnswersQ3()">Check Answers</button>
  </section>

  <!-- Q4: Searching a 2D Library Catalog -->
  <section id="q4">
    <h2>Q4: Searching a 2D Library Catalog</h2>
    <pre>
01 array library[5,3]
// row 0 => "1984", "Orwell", "1949"
// row 1 => "Hamlet", "Shakespeare", "1600"
// ...
02 found = false
03 searchTitle = input("Enter title:")
04 for i = 0 to 4
05     if library[i,0] == searchTitle then
06         found = true
07         print(library[i,0] + " by " + 
                library[i,1] + " (" + 
                library[i,2] + ")")
08         exit loop
09     endif
10 next i
11 if found == false then
12     print("Title not in catalog")
13 endif
    </pre>
    <table id="traceTableQ4">
      <tr>
        <th>Line</th>
        <th>i</th>
        <th>library[i,0..2]</th>
        <th>found?</th>
        <th>Output</th>
      </tr>
      <!-- Provide enough rows for user input -->
      <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
      <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
      <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
      <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
      <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
      <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    </table>
    <button onclick="checkAnswersQ4()">Check Answers</button>
  </section>

  <!-- Q5: Updating a Stock Inventory -->
  <section id="q5">
    <h2>Q5: Updating a Stock Inventory</h2>
    <pre>
01 array stock[3,3]
02 stock[0,0] = "Burger"; stock[0,1] = "50"; stock[0,2] = "2.99"
03 stock[1,0] = "Fries";  stock[1,1] = "100"; stock[1,2] = "1.50"
04 stock[2,0] = "Soda";   stock[2,1] = "80";  stock[2,2] = "1.20"
05 item = input("Which item sold?")
06 amountSold = input("How many sold?")
07 for i = 0 to 2
08     if stock[i,0] == item then
09         oldQty = int(stock[i,1])
10         newQty = oldQty - amountSold
11         stock[i,1] = str(newQty)
12         print("Updated " + item + " to " + stock[i,1])
13     endif
14 next i
    </pre>
    <table id="traceTableQ5">
      <tr>
        <th>Line</th>
        <th>i</th>
        <th>stock[i,0..2]</th>
        <th>oldQty</th>
        <th>newQty</th>
        <th>Output</th>
      </tr>
      <!-- Provide enough rows for user input -->
      <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
      <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
      <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
      <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
      <tr><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
    </table>
    <button onclick="checkAnswersQ5()">Check Answers</button>
  </section>

</body>
</html>
