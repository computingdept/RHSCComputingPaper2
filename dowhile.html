<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>3 Factorial Trace Table Challenge</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      padding-bottom: 50px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      border: 1px solid #000;
      padding: 8px;
      text-align: center;
    }
    th {
      background-color: #f2f2f2;
    }
    pre {
      background: #eee;
      padding: 10px;
      font-size: 1.1em;
      overflow-x: auto;
    }
    button {
      margin-top: 10px;
      padding: 10px;
      font-size: 1em;
      cursor: pointer;
    }
  </style>
  <script>
    function checkAnswersFactorial() {
      // The expected trace values for each row.
      // Each row corresponds to:
      // [Line Number, n, i, factorial, Condition, Output]
      // There are 14 rows in this trace table.
      let correctValues = [
        // Row 1: Line 01 – Set n = 3
        ["01", "3", "", "",  ""],
        // Row 2: Line 02 – Set factorial = 1
        ["02", "", "", "1",  ""],
        // Row 3: Line 03 – Set i = 1
        ["03", "", "1", "", ""],
        // Row 4: First iteration (line 05): factorial = 1 * 1 = 1
        ["05", "", "1", "1", ""],
        // Row 6: First iteration (line 06): i becomes 1 + 1 = 2
        ["06", "", "2", "1", ""],
        // Row 7: Second evaluation of while (line 04): i=2; 2 <= 3 is true
        ["04", "", "2", "1",  ""],
        // Row 8: Second iteration (line 05): factorial = 1 * 2 = 2
        ["05", "", "2", "2",  ""],
        // Row 9: Second iteration (line 06): i becomes 2 + 1 = 3
        ["06", "", "3", "2", ""],
        // Row 10: Third evaluation of while (line 04): i=3; 3 <= 3 is true
        ["04", "", "3", "2",  ""],
        // Row 11: Third iteration (line 05): factorial = 2 * 3 = 6
        ["05", "", "3", "6",  ""],
        // Row 12: Third iteration (line 06): i becomes 3 + 1 = 4
        ["06", "", "4", "6",  ""],
        // Row 13: Fourth evaluation of while (line 04): i=4; 4 <= 3 is false
        ["04", "", "4", "6",  ""],
        // Row 14: Print statement (line 08): Output "Factorial is 6"
        ["08", "", "4", "6",  "Factorial is 6"]
      ];
      
      let table = document.getElementById("traceTableFactorial");
      let rows = table.rows;
      
      // Skip the header row (index 0) and then check each data row.
      for (let i = 1; i < rows.length; i++) {
         let inputs = rows[i].getElementsByTagName("input");
         let correct = correctValues[i - 1];
         for (let j = 0; j < inputs.length; j++) {
            inputs[j].style.backgroundColor =
              (inputs[j].value.trim() === correct[j]) ? "lightgreen" : "lightcoral";
         }
      }
    }
  </script>
</head>
<body>
  <h2>3 Factorial Trace Table Challenge</h2>
  <p>
    Your program calculates the factorial of a number using a loop.
    The variable <strong>n</strong> is set to <strong>3</strong> and the factorial is computed by multiplying 
    all positive integers from 1 to n. For example, 3! = 3 × 2 × 1 = 6.
  </p>
  <pre>
01 n = 3
02 factorial = 1
03 i = 1
04 while (i <= n)
05     factorial = factorial * i
06     i = i + 1
07 endwhile
08 print("Factorial is " + factorial)
  </pre>
  <p>
    Fill in the table below with the correct values after each step.
  </p>
  <table id="traceTableFactorial">
    <tr>
      <th>Line Number</th>
      <th>n</th>
      <th>i</th>
      <th>factorial</th>
      <th>Output</th>
    </tr>
    <!-- Row 1: Line 01 -->
    <tr>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
    </tr>
    <!-- Row 2: Line 02 -->
    <tr>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
    </tr>
    <!-- Row 3: Line 03 -->
    <tr>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
    </tr>
    <!-- Row 4: First evaluation of while (line 04) -->
    <tr>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
    </tr>
    <!-- Row 5: First iteration (line 05) -->
    <tr>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
    </tr>
    <!-- Row 6: First iteration (line 06) -->
    <tr>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
    </tr>
    <!-- Row 7: Second evaluation of while (line 04) -->
    <tr>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
    </tr>
    <!-- Row 8: Second iteration (line 05) -->
    <tr>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
    </tr>
    <!-- Row 9: Second iteration (line 06) -->
    <tr>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
    </tr>
    <!-- Row 10: Third evaluation of while (line 04) -->
    <tr>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
    </tr>
    <!-- Row 11: Third iteration (line 05) -->
    <tr>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
    </tr>
    <!-- Row 12: Third iteration (line 06) -->
    <tr>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
    </tr>
    <!-- Row 13: Fourth evaluation of while (line 04) -->
    <tr>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
    </tr>
    <!-- Row 14: Print statement (line 08) -->
    <tr>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
      <td><input type="text"></td>
    </tr>
  </table>
  <button onclick="checkAnswersFactorial()">Check Answers</button>
</body>
</html>
